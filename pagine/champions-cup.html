<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clarvs Champions Cup - CLARVS</title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/champions-cup.css">
    <link rel="stylesheet" href="../assets/css/animations.css">
    <link rel="icon" href="../assets/Icons/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Font simile a Fortnite -->
    <link href="https://fonts.googleapis.com/css2?family=Burbank+Big+Condensed:wght@700;800;900&display=swap" rel="stylesheet">
    <!-- Three.js per le particelle 3D -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="main-header champions-cup-header">
        <div class="header-container">
            <nav class="main-nav champions-cup-nav">
                <div class="logo">
                    <img src="../assets/Icons/logo.png" alt="CLARVS Logo">
                    <span>CLARVS</span>
                </div>
                <ul class="nav-links">
                    <li><a href="../index.html" class="nav-link">Home</a></li>
                    <li><a href="roster.html" class="nav-link">Roster</a></li>
                    <li><a href="staff.html" class="nav-link">Staff</a></li>
                    <li><a href="champions-cup.html" class="nav-link active">Champions Cup</a></li>
                    <li><a href="tv.html" class="nav-link">Clarvs TV</a></li>
                </ul>
                <button class="mobile-menu-btn">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </nav>
        </div>
    </header>

    <main class="champions-cup-page">
        <!-- Hero Section -->
        <section class="cup-hero">
            <div class="hero-content animate-fade-in">
                <!-- Titolo rimosso come richiesto -->
                <!-- Elemento decorativo centrale (gestito via CSS) -->
                <div class="hero-glow"></div>
            </div>
        </section>

        <!-- Sezione Lobby Qualificazioni -->
        <section class="lobby-section reveal">
            <div class="container">
                <h2 class="section-title">Lobby Qualificazioni</h2>
                <div class="lobby-grid">
                    <!-- Lobby 1 -->
                    <div class="lobby-card" onclick="openRanking(1)">
                        <h3>Lobby 1</h3>
                        <div class="lobby-info">
                            <span class="lobby-date">Venerdì 5 Dicembre</span>
                            <span class="lobby-time"><i class="fas fa-clock"></i> 15:15</span>
                        </div>
                        <button class="view-ranking-btn">Vedi Classifica</button>
                    </div>

                    <!-- Lobby 2 -->
                    <div class="lobby-card" onclick="openRanking(2)">
                        <h3>Lobby 2</h3>
                        <div class="lobby-info">
                            <span class="lobby-date">Venerdì 5 Dicembre</span>
                            <span class="lobby-time"><i class="fas fa-clock"></i> 17:15</span>
                        </div>
                        <button class="view-ranking-btn">Vedi Classifica</button>
                    </div>

                    <!-- Lobby 3 -->
                    <div class="lobby-card" onclick="openRanking(3)">
                        <h3>Lobby 3</h3>
                        <div class="lobby-info">
                            <span class="lobby-date">Sabato 6 Dicembre</span>
                            <span class="lobby-time"><i class="fas fa-clock"></i> 14:45</span>
                        </div>
                        <button class="view-ranking-btn">Vedi Classifica</button>
                    </div>

                    <!-- Lobby 4 -->
                    <div class="lobby-card" onclick="openRanking(4)">
                        <h3>Lobby 4</h3>
                        <div class="lobby-info">
                            <span class="lobby-date">Sabato 6 Dicembre</span>
                            <span class="lobby-time"><i class="fas fa-clock"></i> 16:30</span>
                        </div>
                        <button class="view-ranking-btn">Vedi Classifica</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal per la classifica -->
    <div class="modal-overlay" id="rankingModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Lobby 1 - Classifica</h2>
                <button class="close-modal" onclick="closeRanking()">&times;</button>
            </div>
            <div class="modal-body">
                <table class="ranking-table">
                    <thead>
                        <tr>
                            <th>Pos</th>
                            <th>Giocatore</th>
                            <th>Punti</th>
                        </tr>
                    </thead>
                    <tbody id="rankingBody">
                        <!-- Verrà popolato da JavaScript -->
                    </tbody>
                </table>
            </div>
            <div class="legend">
                <div class="legend-item">
                    <span class="dot dot-green"></span>
                    <span>Qualificati (Top 12)</span>
                </div>
                <div class="legend-item">
                    <span class="dot dot-red"></span>
                    <span>Eliminati</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../js/main.js"></script>
    <script src="../js/interactions.js"></script>
    <script>
        // Dati dei giocatori per le lobby (nome e punti)
        const lobbyData = {
            1: [
                { name: "Iceleoh", points: 88 },
                { name: "Mafix", points: 76 },
                { name: "Ciuco", points: 74 },
                { name: "Fr3nk", points: 51 },
                { name: "Kler", points: 50 },
                { name: "Nitro", points: 30 },
                { name: "Xmatto", points: 23 },
                { name: "Pallux", points: 20 },
                { name: "Ugo", points: 13 },
                { name: "GD8 Super", points: 12 },
                { name: "Jeki Doggo", points: 0 },
                { name: "P1ngu", points: 0 },
                { name: "Sabbia", points: 0 },
                { name: "Axy", points: 0 },
                { name: "Certyc", points: 0 },
                { name: "Anass", points: 0 },
                { name: "Conso", points: 0 }
            ],
            2: [
                { name: "Sapphire", points: 74 },
                { name: "Pante", points: 74 },
                { name: "Flqrix", points: 74 },
                { name: "Gabbs", points: 63 },
                { name: "Lelli X", points: 56 },
                { name: "Bertan", points: 46 },
                { name: "Gae_bel", points: 46 },
                { name: "Roby", points: 32 },
                { name: "Aleshawn", points: 32 },
                { name: "Cinghiale", points: 30 },
                { name: "Soguaro", points: 24 },
                { name: "Zqler", points: 0 },
                { name: "Kiripip", points: 0 },
                { name: "Golden", points: 0 },
                { name: "Rhoufn", points: 0 },
                { name: "Stallone", points: 0 },
                { name: "Matthias", points: 0 }
            ],
            3: [
                { name: "Cive", points: 93 },
                { name: "Verza", points: 73 },
                { name: "Gidane", points: 50 },
                { name: "Giux", points: 46 },
                { name: "Malar", points: 43 },
                { name: "Betta", points: 36 },
                { name: "Gyovix", points: 34 },
                { name: "Squeezy", points: 26 },
                { name: "Rxstek", points: 21 },
                { name: "Petrito", points: 6 },
                { name: "Takestach", points: 0 },
                { name: "Mattemu", points: 0 },
                { name: "Salva", points: 0 },
                { name: "Ared", points: 0 },
                { name: "Manu", points: 0 },
                { name: "Riky2078", points: 0 },
                { name: "Bamba", points: 0 }
            ],
            4: [
                { name: "Minijust", points: 77 },
                { name: "Maka", points: 59 },
                { name: "Petrox", points: 56 },
                { name: "Zbeghi", points: 52 },
                { name: "Leif", points: 45 },
                { name: "Haxo", points: 30 },
                { name: "Kratos", points: 20 },
                { name: "Matto", points: 16 },
                { name: "Davix", points: 10 },
                { name: "Anti", points: 0 },
                { name: "Bortex", points: 0 },
                { name: "Feffo", points: 0 },
                { name: "Ryzee", points: 0 },
                { name: "Skizi", points: 0 },
                { name: "Das_toxic", points: 0 },
                { name: "King Kong", points: 0 },
                { name: "Fastly", points: 0 }
            ]
        };

        // Funzioni per il modal della classifica
        function openRanking(lobbyNumber) {
            const modal = document.getElementById('rankingModal');
            const modalTitle = document.getElementById('modalTitle');
            const rankingBody = document.getElementById('rankingBody');
            
            modalTitle.textContent = `Lobby ${lobbyNumber} - Classifica`;
            
            // Recupera i giocatori per questa lobby
            const players = lobbyData[lobbyNumber] || [];
            
            // Ordina i giocatori per punti (dal più alto al più basso)
            const sortedPlayers = [...players].sort((a, b) => b.points - a.points);
            
            let html = '';
            // Genera righe basate sui giocatori ordinati
            sortedPlayers.forEach((player, index) => {
                const rank = index + 1;
                const isQualified = rank <= 12;
                const rowClass = isQualified ? 'rank-qualified' : 'rank-eliminated';
                const qualificationLine = rank === 12 ? ' qualification-line' : '';
                
                html += `
                    <tr class="${rowClass}${qualificationLine}">
                        <td class="rank-cell">${rank}°</td>
                        <td class="player-cell">${player.name}</td>
                        <td class="points-cell">${player.points}</td>
                    </tr>
                `;
            });
            
            rankingBody.innerHTML = html;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeRanking() {
            const modal = document.getElementById('rankingModal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Chiudi modal cliccando fuori
        document.getElementById('rankingModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeRanking();
            }
        });

        // Chiudi con ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeRanking();
            }
        });

        // Animazione reveal per le sezioni
        function reveal() {
            const reveals = document.querySelectorAll('.reveal');
            reveals.forEach(element => {
                const windowHeight = window.innerHeight;
                const elementTop = element.getBoundingClientRect().top;
                const elementVisible = 150;
                
                if (elementTop < windowHeight - elementVisible) {
                    element.classList.add('active');
                }
            });
        }

        window.addEventListener('scroll', reveal);
        window.addEventListener('load', reveal);
    </script>
</body>
</html>
